@use "sass:color";
@use "sass:map";
@use "../abstracts/colors" as *;
@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;
@use "../mixins/scrollbar" as *;
@use "../abstracts/utilities" as *;

// NAVBAR
$navbar-height-desktop: 100px;
$navbar-height-mobile: 72px;
$navbar-bg: transparent;
$navbar-link-color: $night;
$navbar-hover-link-color: color.adjust($night, $lightness: -10%);
$z-index-navbar: 1000;
$z-index-navbar-mobile: 1009;
$z-index-navbar-toggler: 1010;

.asms-navbar {
  min-height: $navbar-height-desktop;
  background: $navbar-bg;
  padding-top: 8px;
  padding-bottom: 8px;

  @include breakpoint-down(lg) {
    $navbar-height-desktop: 80px;
    min-height: $navbar-height-desktop;
  }

  @include breakpoint-down(sm) {
    min-height: $navbar-height-mobile;
  }

  &-overlay {
    visibility: hidden;

    @include breakpoint-down(xl) {
      background: rgba(0, 0, 0, 0.3);
      visibility: hidden;
      opacity: 0;

      &.show {
        visibility: visible;
        opacity: 1;
      }
    }
  }

  &-menu-logo {
    max-width: 140px;
  }

  &-menu-wrapper {
    @include breakpoint-down(xl) {
      position: fixed;
      top: 0;
      right: 0;
      width: 320px;
      height: 100%;
      background: color("white");
      box-shadow: map.get($shadows, "default");
      // padding: 16px 20px;
      padding: 16px 20px 12px 20px;
      transform: translateX(100%);
      transition: $default-transition;
      z-index: $z-index-navbar-mobile;

      @include breakpoint-down(sm){
        width: 100%;
      }

      &.show {
        transform: translateX(0);
      }
    }
  }

  &-menu-body {
    @include breakpoint-down(xl) {
      // max-height: calc(100vh - 100px);
      max-height: calc(100vh - 125px);
      @include scrollbar("y");
      padding-right: 8px !important;
    }

    &::-webkit-scrollbar-thumb {
      @include breakpoint-down(xl) {
        background: color("grey-1");
      }
    }
  }

  .asms-logo {
    max-width: 200px;

    @include breakpoint-down(xl) {
      max-width: 180px;
    }

    @include breakpoint-down(sm) {
      max-width: 160px;
    }

    @include breakpoint-down(xs){
      max-width: 140px;
    }
  }

  .asms {
    &-navbar-menu-wrapper {
      .menu-link-text,
      .menu-link-icon {
        color: color("night");

        @include breakpoint-down(xl) {
          font-size: 18px !important;
        }
      }
    }

    &-menu-item {
      @include breakpoint-down(xl) {
        width: 100%;
      }
    }

    &-menu-link {
      transition: $default-transition;

      .menu-link-icon{
        transition: $default-transition;
      }

      &.active {
        color: color("primary") !important;

        .menu-link-text, .menu-link-icon {
          color: color("primary") !important;
        }
      }

      &[aria-expanded="true"]{
        .menu-link-icon{
          transform: rotate(180deg);
        }
      }

      &[data-bs-toggle="collapse"] {
        @include breakpoint-down(xl) {
          display: flex;
          align-items: center;
          width: 100%;
          justify-content: space-between;
        }
      }

      &:hover {
        color: $navbar-hover-link-color !important;
        opacity: 0.8;
      }
    }
  }
}

.custom-fixed-util {
  position: fixed !important;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.asms-submenu {
  top: calc(100% + 28px);
  width: 1260px;

  @include breakpoint-down(xxl) {
    width: 1000px;
  }

  @include breakpoint-down(xl) {
    position: relative !important;
    top: 0 !important;
    width: 100% !important;
    left: 0 !important;
    transform: none !important;
    box-shadow: none !important;
  }

  .asms-submenu-block {
    &-group {
      @include breakpoint-down(xl) {
        gap: 8px;
      }
    }
  }

  &-soln {
    left: 50%;
    transform: translateX(-38%);

    @include breakpoint-down(xxl) {
      transform: translateX(-34%);
    }
  }

  .submenu-menu-item{
    &-link{
      transition: $default-transition;
      &:hover{
        background: color("p-green-50");
      }
    }
  }
}
